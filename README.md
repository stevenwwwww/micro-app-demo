微服务Demo--基座应用

# 子项目介绍
子项目见`packages`目录：
1. `child-app1` 使用`cra`创建的项目
2. `child-app2` 使用`cra`创建的项目，且引入`MF`
3. `child-app3` 使用`cra`创建的项目，且导出`MF`
   - 此项目与`child-app2`配合，尝试各种类型MF模块，具体见该目录下的`README`
4. `module-dederation-demo` `mf`相关项目
   1. `app1` 引入`MF`的项目
   2. `app2` 导出`MF`的项目
   3. `app2` 导出和引入`MF`的项目

# 相关库
- 基座框架：`react17`
- 路由：`react-router-dom6`
- 组件库： `antd` 需要额外配置，如果重新做我会选择`semi-ui`这一类库做演示，因为不用配置比较方便（简单说一下，这两个现在都是使用`babel-import-plugin`实现的自动按需加载，这不是问题，主要在于`antd`使用了`less`会导致编译异常，需要额外下载`less`包以及配置`vite.config.ts`，比较麻烦）
- 构建工具：`webpack`
  - 虽然这里配置了`Vite`，但是别用，因为Vite不兼容Webpack的MF特性，Vite有自己的MF插件系统
  - 如果基座和子应用都是用`Vite`呢？有两个问题
    - micro-app中，如果父子都是用`Vite`则会出错，虽然可以解决，但是很麻烦，而且会失去虚拟沙盒等重要特性
    - 业务项目都是`Webpack`，改成`Vite`有额外的迁移成本，目前没有这个必要

# `micro-app`
## 构建思路
基座应用构建使用`vite`，子应用构建使用`webpack`。

理由之一是因为父子应用都使用`vite`会出现报错，虽然官方给出了解决方案，但是处理起来太麻烦，而且会丧失很多重要的特性，所以子应用使用`webpack`

另一个理由则是`webpack5`提供的`Module Federation`特性。

## 功能点
总览下需要的功能点，没想到的再补充：
1. [x] 可以在基座应用显示子应用
2. [x] 基座应用里切换url可以让子应用路由切换
3. [ ] 数据通信
   1. [x] 主应用 => 子应用
   2. [x] 子应用 => 主应用
   3. [ ] 子应用 <=> 子应用：官方不推荐这种做法，但是可以通过全局数据实现
   4. [ ] 主应用 广播 子应用
4. [ ] 子应用使用公共模块
   1. [x] 运行`Module Federation`实例
   2. [ ] 将MF实例应用做为子应用引入基座
   3. [x] 在子应用中引入远程模块
      1. `webpack`版本必须在`5`以上
      2. 需要修改`webpack`配置
      3. 动态引入

## 数据通信
详见 官方文档 [数据通信](https://cangdu.org/micro-app/docs.html#/zh-cn/data)

# `Module Federation`
## 功能点
1. [x] app1引用app2 单个组件
   1. [x] 引用组件没有其他依赖
   2. [x] 引用组件依赖app2其他组件
   3. [x] 引用组件依赖其他app的组件
2. [x] app1引入多个app的多个组件
   1. [x] 引入单个应用的多个组件
   2. [x] 引入多个应用的单个组件
   3. [x] 引入多个应用的多个组件
3. [x] 与远程组件交互（把远程组件当成普通的React组件使用就行）
   1. [x] 传值给远端组件
   2. [x] 接收远端组件的数据
